<!DOCTYPE html><html lang="en" data-mode="dark" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="prefer-datetime-locale" content="fr.js"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="Disk commands" /><meta property="og:locale" content="en" /><meta name="description" content="List information about block devices" /><meta property="og:description" content="List information about block devices" /><link rel="canonical" href="https://maximegault.github.io/posts/linux-disk/" /><meta property="og:url" content="https://maximegault.github.io/posts/linux-disk/" /><meta property="og:site_name" content="Wow!" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-11-15T14:00:00+01:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Disk commands" /><meta name="twitter:site" content="@twitter_username" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2023-01-25T19:09:36+01:00","datePublished":"2022-11-15T14:00:00+01:00","description":"List information about block devices","headline":"Disk commands","mainEntityOfPage":{"@type":"WebPage","@id":"https://maximegault.github.io/posts/linux-disk/"},"url":"https://maximegault.github.io/posts/linux-disk/"}</script><title>Disk commands | Wow!</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Wow!"><meta name="application-name" content="Wow!"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="/assets/img/sample/avatar.gif" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Wow!</a></div><div class="site-subtitle font-italic">Personal notepad</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/links/" class="nav-link"> <i class="fa-fw fas fa-link ml-xl-3 mr-xl-3 unloaded"></i> <span>LINKS</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://github.com/maximegault" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100 pl-3 pr-3 pl-md-4 pr-md-4"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Disk commands</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container pl-xl-4 pr-xl-4"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pr-xl-4"><div class="post pl-1 pr-1 pl-md-2 pr-md-2"><h1 data-toc-skip>Disk commands</h1><div class="post-meta text-muted"> <span> Posted <em class="" data-ts="1668517200" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Nov 15, 2022 </em> </span> <span> Updated <em class="" data-ts="1674670176" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Jan 25, 2023 </em> </span><div class="d-flex justify-content-between"> <span> By <em> <a href="https://github.com/maximegault">Maxime Gault</a> </em> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1739 words"> <em>9 min</em> read</span></div></div></div><div class="post-content"><h3 id="list-information-about-block-devices"><span class="mr-2">List information about block devices</span><a href="#list-information-about-block-devices" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>With <code class="language-plaintext highlighter-rouge">lsblk</code> (see <a href="https://man7.org/linux/man-pages/man8/lsblk.8.html">man</a>), we can get the list and characteristics of disks and their partitions. Example output:</p><div class="language-text highlighter-rouge"><div class="code-header"> <span data-label-text="Text"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre>NAME        MAJ:MIN RM SIZE RO TYPE MOUNTPOINT
nvme0n1     259:1    0  50G  0 disk 
└─nvme0n1p1 259:2    0  50G  0 part /
nvme1n1     259:0    0  50G  0 disk
</pre></table></code></div></div><h3 id="find-a-mounted-filesystem"><span class="mr-2">Find a (mounted) filesystem</span><a href="#find-a-mounted-filesystem" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p><code class="language-plaintext highlighter-rouge">findmnt</code> (see <a href="https://man7.org/linux/man-pages/man8/findmnt.8.html">man</a>) display a list of all mounted file systems or search for a file system. Example output:</p><div class="language-text highlighter-rouge"><div class="code-header"> <span data-label-text="Text"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
</pre><td class="rouge-code"><pre>TARGET                                SOURCE         FSTYPE      OPTIONS
/                                     /dev/nvme0n1p1 xfs         rw,relatime,seclabel,attr2,inode64,noquota
├─/sys                                sysfs          sysfs       rw,nosuid,nodev,noexec,relatime,seclabel
│ ├─/sys/kernel/security              securityfs     securityfs  rw,nosuid,nodev,noexec,relatime
│ ├─/sys/fs/cgroup                    tmpfs          tmpfs       ro,nosuid,nodev,noexec,seclabel,mode=755
│ │ ├─/sys/fs/cgroup/systemd          cgroup         cgroup      rw,nosuid,nodev,noexec,relatime,seclabel,xattr,release_agent=/usr/lib/systemd/systemd-cgroups-agent,name=systemd
│ │ ├─/sys/fs/cgroup/cpuset           cgroup         cgroup      rw,nosuid,nodev,noexec,relatime,seclabel,cpuset
│ │ ├─/sys/fs/cgroup/pids             cgroup         cgroup      rw,nosuid,nodev,noexec,relatime,seclabel,pids
│ │ ├─/sys/fs/cgroup/net_cls,net_prio cgroup         cgroup      rw,nosuid,nodev,noexec,relatime,seclabel,net_prio,net_cls
│ │ ├─/sys/fs/cgroup/freezer          cgroup         cgroup      rw,nosuid,nodev,noexec,relatime,seclabel,freezer
│ │ ├─/sys/fs/cgroup/cpu,cpuacct      cgroup         cgroup      rw,nosuid,nodev,noexec,relatime,seclabel,cpuacct,cpu
│ │ ├─/sys/fs/cgroup/perf_event       cgroup         cgroup      rw,nosuid,nodev,noexec,relatime,seclabel,perf_event
│ │ ├─/sys/fs/cgroup/memory           cgroup         cgroup      rw,nosuid,nodev,noexec,relatime,seclabel,memory
│ │ ├─/sys/fs/cgroup/hugetlb          cgroup         cgroup      rw,nosuid,nodev,noexec,relatime,seclabel,hugetlb
│ │ ├─/sys/fs/cgroup/blkio            cgroup         cgroup      rw,nosuid,nodev,noexec,relatime,seclabel,blkio
│ │ └─/sys/fs/cgroup/devices          cgroup         cgroup      rw,nosuid,nodev,noexec,relatime,seclabel,devices
│ ├─/sys/fs/pstore                    pstore         pstore      rw,nosuid,nodev,noexec,relatime
│ ├─/sys/fs/selinux                   selinuxfs      selinuxfs   rw,relatime
│ ├─/sys/kernel/config                configfs       configfs    rw,relatime
│ └─/sys/kernel/debug                 debugfs        debugfs     rw,relatime
├─/proc                               proc           proc        rw,nosuid,nodev,noexec,relatime
│ └─/proc/sys/fs/binfmt_misc          systemd-1      autofs      rw,relatime,fd=28,pgrp=1,timeout=0,minproto=5,maxproto=5,direct,pipe_ino=998
│   └─/proc/sys/fs/binfmt_misc        binfmt_misc    binfmt_misc rw,relatime
├─/dev                                devtmpfs       devtmpfs    rw,nosuid,seclabel,size=7957576k,nr_inodes=1989394,mode=755
│ ├─/dev/shm                          tmpfs          tmpfs       rw,nosuid,nodev,seclabel
│ ├─/dev/pts                          devpts         devpts      rw,nosuid,noexec,relatime,seclabel,gid=5,mode=620,ptmxmode=000
│ ├─/dev/mqueue                       mqueue         mqueue      rw,relatime,seclabel
│ └─/dev/hugepages                    hugetlbfs      hugetlbfs   rw,relatime,seclabel
├─/run                                tmpfs          tmpfs       rw,nosuid,nodev,seclabel,mode=755
│ └─/run/user/1000                    tmpfs          tmpfs       rw,nosuid,nodev,relatime,seclabel,size=1596316k,mode=700,uid=1000,gid=1000
└─/var/lib/nfs/rpc_pipefs             rpc_pipefs     rpc_pipefs  rw,relatime
</pre></table></code></div></div><h3 id="manipulate-disk-partition-table"><span class="mr-2">Manipulate disk partition table</span><a href="#manipulate-disk-partition-table" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p><code class="language-plaintext highlighter-rouge">fdisk</code> (see <a href="https://man7.org/linux/man-pages/man8/fdisk.8.html">man</a>) allows to create, delete, list partitions on a hard disk.</p><blockquote class="prompt-warning"><div><p><code class="language-plaintext highlighter-rouge">fdisk</code> needs administrator rights.</p></div></blockquote><h4 id="list-the-partition-tables-for-the-specified-devices"><span class="mr-2">List the partition tables for the specified devices</span><a href="#list-the-partition-tables-for-the-specified-devices" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><p>With the <code class="language-plaintext highlighter-rouge">-l</code> option only, it will list all the partitions from all the devices:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>fdisk <span class="nt">-l</span>
</pre></table></code></div></div><p>Example output:</p><div class="language-text highlighter-rouge"><div class="code-header"> <span data-label-text="Text"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre><td class="rouge-code"><pre>Disk /dev/nvme1n1: 53.7 GB, 53687091200 bytes, 104857600 sectors
Units = sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes


Disk /dev/nvme0n1: 53.7 GB, 53687091200 bytes, 104857600 sectors
Units = sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
Disk label type: dos
Disk identifier: 0x000b0d11

        Device Boot      Start         End      Blocks   Id  System
/dev/nvme0n1p1   *        2048   104857566    52427759+  83  Linu
</pre></table></code></div></div><p>Specifying a device name, it will list only the partitions related to that device:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>fdisk <span class="nt">-l</span> /dev/nvme1n1
</pre></table></code></div></div><p>Example output:</p><div class="language-text highlighter-rouge"><div class="code-header"> <span data-label-text="Text"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre>Disk /dev/nvme1n1: 53.7 GB, 53687091200 bytes, 104857600 sectors
Units = sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 512 bytes
I/O size (minimum/optimal): 512 bytes / 512 bytes
</pre></table></code></div></div><h3 id="full-example"><span class="mr-2">Full example</span><a href="#full-example" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><h4 id="creation"><span class="mr-2">Creation</span><a href="#creation" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><h5 id="list-disks-with-sudo-fdisk--l"><span class="mr-2">List disks with <code class="language-plaintext highlighter-rouge"><span class="mr-2">sudo fdisk -l</code></span><a href="#list-disks-with-sudo-fdisk--l" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h5><div class="language-text highlighter-rouge"><div class="code-header"> <span data-label-text="Text"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
</pre><td class="rouge-code"><pre>Disk /dev/sda: 256 GiB, 274877906944 bytes, 536870912 sectors
Disk model: Virtual Disk
Units: sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 4096 bytes
I/O size (minimum/optimal): 4096 bytes / 4096 bytes

Disk /dev/sdb: 256 GiB, 274877906944 bytes, 536870912 sectors
Disk model: Virtual Disk
Units: sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 4096 bytes
I/O size (minimum/optimal): 4096 bytes / 4096 bytes

Disk /dev/sdc: 256 GiB, 274877906944 bytes, 536870912 sectors
Disk model: Virtual Disk
Units: sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 4096 bytes
I/O size (minimum/optimal): 4096 bytes / 4096 bytes
Disklabel type: dos
Disk identifier: 0x94a4803e

Disk /dev/sdd: 256 GiB, 274877906944 bytes, 536870912 sectors
Disk model: Virtual Disk
Units: sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 4096 bytes
I/O size (minimum/optimal): 4096 bytes / 4096 bytes
Disklabel type: dos
Disk identifier: 0x032632cb

Disk /dev/sde: 256 GiB, 274877906944 bytes, 536870912 sectors
Disk model: Virtual Disk
Units: sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 4096 bytes
I/O size (minimum/optimal): 4096 bytes / 4096 bytes

Disk /dev/sdf: 256 GiB, 274877906944 bytes, 536870912 sectors
Disk model: Virtual Disk
Units: sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 4096 bytes
I/O size (minimum/optimal): 4096 bytes / 4096 bytes
</pre></table></code></div></div><h5 id="check-existing-partitions-with-lsblk"><span class="mr-2">Check existing partitions with <code class="language-plaintext highlighter-rouge"><span class="mr-2">lsblk</code></span><a href="#check-existing-partitions-with-lsblk" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h5><div class="language-text highlighter-rouge"><div class="code-header"> <span data-label-text="Text"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre>NAME   MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT
sda      8:0    0  256G  0 disk
sdb      8:16   0  256G  0 disk /
sdc      8:32   0  256G  0 disk
sdd      8:48   0  256G  0 disk
sde      8:64   0  256G  0 disk
sdf      8:80   0  256G  0 disk
</pre></table></code></div></div><h5 id="create-a-partition-on-devsdd-with-the-sudo-fdisk-devsdd-command"><span class="mr-2">Create a partition on <code class="language-plaintext highlighter-rouge"><span class="mr-2">/dev/sdd</code> with the <code class="language-plaintext highlighter-rouge"><span class="mr-2">sudo fdisk /dev/sdd</code> command</span><a href="#create-a-partition-on-devsdd-with-the-sudo-fdisk-devsdd-command" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h5><p>This is an interactive prompt:</p><ul><li><code class="language-plaintext highlighter-rouge">d</code>: delete a partition<li><code class="language-plaintext highlighter-rouge">n</code>: add a new partition<li><code class="language-plaintext highlighter-rouge">p</code>: print the partition table<li><code class="language-plaintext highlighter-rouge">w</code>: write table to disk and exit</ul><p>So create a partition with <code class="language-plaintext highlighter-rouge">n</code>, type the needed parameters and validate with <code class="language-plaintext highlighter-rouge">w</code>.</p><h5 id="check-existing-partitions-with-lsblk-again"><span class="mr-2">Check existing partitions with <code class="language-plaintext highlighter-rouge"><span class="mr-2">lsblk</code> again</span><a href="#check-existing-partitions-with-lsblk-again" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h5><div class="language-text highlighter-rouge"><div class="code-header"> <span data-label-text="Text"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre>NAME   MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT
sda      8:0    0  256G  0 disk
sdb      8:16   0  256G  0 disk /
sdc      8:32   0  256G  0 disk
sdd      8:48   0  256G  0 disk
└─sdd1   8:49   0  256G  0 part
sde      8:64   0  256G  0 disk
sdf      8:80   0  256G  0 disk
</pre></table></code></div></div><h5 id="list-disks-with-sudo-fdisk--l-again"><span class="mr-2">List disks with <code class="language-plaintext highlighter-rouge"><span class="mr-2">sudo fdisk -l</code> again</span><a href="#list-disks-with-sudo-fdisk--l-again" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h5><div class="language-text highlighter-rouge"><div class="code-header"> <span data-label-text="Text"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
</pre><td class="rouge-code"><pre>Disk /dev/sda: 256 GiB, 274877906944 bytes, 536870912 sectors
Disk model: Virtual Disk
Units: sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 4096 bytes
I/O size (minimum/optimal): 4096 bytes / 4096 bytes

Disk /dev/sdb: 256 GiB, 274877906944 bytes, 536870912 sectors
Disk model: Virtual Disk
Units: sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 4096 bytes
I/O size (minimum/optimal): 4096 bytes / 4096 bytes

Disk /dev/sdc: 256 GiB, 274877906944 bytes, 536870912 sectors
Disk model: Virtual Disk
Units: sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 4096 bytes
I/O size (minimum/optimal): 4096 bytes / 4096 bytes
Disklabel type: dos
Disk identifier: 0x94a4803e

Disk /dev/sdd: 256 GiB, 274877906944 bytes, 536870912 sectors
Disk model: Virtual Disk
Units: sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 4096 bytes
I/O size (minimum/optimal): 4096 bytes / 4096 bytes
Disklabel type: dos
Disk identifier: 0x032632cb

Device     Boot Start       End   Sectors  Size Id Type
/dev/sdd1        2048 536870911 536868864  256G 83 Linux

Disk /dev/sde: 256 GiB, 274877906944 bytes, 536870912 sectors
Disk model: Virtual Disk
Units: sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 4096 bytes
I/O size (minimum/optimal): 4096 bytes / 4096 bytes

Disk /dev/sdf: 256 GiB, 274877906944 bytes, 536870912 sectors
Disk model: Virtual Disk
Units: sectors of 1 * 512 = 512 bytes
Sector size (logical/physical): 512 bytes / 4096 bytes
I/O size (minimum/optimal): 4096 bytes / 4096 bytes
</pre></table></code></div></div><h5 id="format-the-partition-with-mkfs-command"><span class="mr-2">Format the partition with <code class="language-plaintext highlighter-rouge"><span class="mr-2">mkfs</code> command</span><a href="#format-the-partition-with-mkfs-command" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h5><p>Here we have created the <code class="language-plaintext highlighter-rouge">/dev/sdd1</code> partition, so we can use <code class="language-plaintext highlighter-rouge">sudo mkfs /dev/sdd1</code> (default partition type can be <code class="language-plaintext highlighter-rouge">ext2</code>) or specify a partition type (like <code class="language-plaintext highlighter-rouge">xfs</code>) with the command <code class="language-plaintext highlighter-rouge">sudo mkfs.xfs /dev/sdd1</code>.</p><blockquote class="prompt-tip"><div><p><code class="language-plaintext highlighter-rouge">file</code> command can help to know an already formatted partition type, ie. <code class="language-plaintext highlighter-rouge">sudo file -sL /dev/sdc1</code>.</p></div></blockquote><h5 id="create-a-directory-to-mount-the-partition-on"><span class="mr-2">Create a directory to mount the partition on</span><a href="#create-a-directory-to-mount-the-partition-on" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h5><p>Example <code class="language-plaintext highlighter-rouge">sudo mkdir -p /myDirectory/subDirectory</code>.</p><h5 id="mount-the-partition"><span class="mr-2">Mount the partition</span><a href="#mount-the-partition" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h5><p>Example <code class="language-plaintext highlighter-rouge">sudo mount /dev/sdd1 /myDirectory/subDirectory</code>.</p><h5 id="check-the-mount-point-with-findmnt"><span class="mr-2">Check the mount point with <code class="language-plaintext highlighter-rouge"><span class="mr-2">findmnt</code></span><a href="#check-the-mount-point-with-findmnt" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h5><div class="language-text highlighter-rouge"><div class="code-header"> <span data-label-text="Text"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
</pre><td class="rouge-code"><pre>TARGET                          SOURCE       FSTYPE      OPTIONS
/                               /dev/sdf     ext4        rw,relatime,discard,errors=remount-ro,data=ordered
├─/mnt/wsl                      tmpfs        tmpfs       rw,relatime
├─/init                         tools[/init] 9p          ro,relatime,dirsync,aname=tools;fmask=022,loose,access=client,trans=fd,rfd=6,wfd=6
├─/dev                          none         devtmpfs    rw,nosuid,relatime,size=13073648k,nr_inodes=3268412,mode=755
│ └─/dev/pts                    devpts       devpts      rw,nosuid,noexec,noatime,gid=5,mode=620,ptmxmode=000
├─/sys                          sysfs        sysfs       rw,nosuid,nodev,noexec,noatime
│ └─/sys/fs/cgroup              tmpfs        tmpfs       rw,nosuid,nodev,noexec,relatime,mode=755
│   ├─/sys/fs/cgroup/unified    cgroup2      cgroup2     rw,nosuid,nodev,noexec,relatime,nsdelegate
│   ├─/sys/fs/cgroup/cpuset     cgroup       cgroup      rw,nosuid,nodev,noexec,relatime,cpuset
│   ├─/sys/fs/cgroup/cpu        cgroup       cgroup      rw,nosuid,nodev,noexec,relatime,cpu
│   ├─/sys/fs/cgroup/cpuacct    cgroup       cgroup      rw,nosuid,nodev,noexec,relatime,cpuacct
│   ├─/sys/fs/cgroup/blkio      cgroup       cgroup      rw,nosuid,nodev,noexec,relatime,blkio
│   ├─/sys/fs/cgroup/memory     cgroup       cgroup      rw,nosuid,nodev,noexec,relatime,memory
│   ├─/sys/fs/cgroup/devices    cgroup       cgroup      rw,nosuid,nodev,noexec,relatime,devices
│   ├─/sys/fs/cgroup/freezer    cgroup       cgroup      rw,nosuid,nodev,noexec,relatime,freezer
│   ├─/sys/fs/cgroup/net_cls    cgroup       cgroup      rw,nosuid,nodev,noexec,relatime,net_cls
│   ├─/sys/fs/cgroup/perf_event cgroup       cgroup      rw,nosuid,nodev,noexec,relatime,perf_event
│   ├─/sys/fs/cgroup/net_prio   cgroup       cgroup      rw,nosuid,nodev,noexec,relatime,net_prio
│   ├─/sys/fs/cgroup/hugetlb    cgroup       cgroup      rw,nosuid,nodev,noexec,relatime,hugetlb
│   ├─/sys/fs/cgroup/pids       cgroup       cgroup      rw,nosuid,nodev,noexec,relatime,pids
│   └─/sys/fs/cgroup/rdma       cgroup       cgroup      rw,nosuid,nodev,noexec,relatime,rdma
├─/proc                         proc         proc        rw,nosuid,nodev,noexec,noatime
│ └─/proc/sys/fs/binfmt_misc    binfmt_misc  binfmt_misc rw,relatime
├─/run                          none         tmpfs       rw,nosuid,noexec,noatime,mode=755
│ ├─/run/lock                   none         tmpfs       rw,nosuid,nodev,noexec,noatime
│ ├─/run/shm                    none         tmpfs       rw,nosuid,nodev,noatime
│ └─/run/user                   none         tmpfs       rw,nosuid,nodev,noexec,noatime,mode=755
├─/usr/lib/wsl/drivers          drivers      9p          ro,nosuid,nodev,noatime,dirsync,aname=drivers;fmask=222;dmask=222,mmap,access=client,msize=65536,trans=fd,rfd=4,wfd=4
├─/usr/lib/wsl/lib              lib          9p          ro,nosuid,nodev,noatime,dirsync,aname=lib;fmask=222;dmask=222,mmap,access=client,msize=65536,trans=fd,rfd=4,wfd=4
├─/mnt/c                        C:\          9p          rw,noatime,dirsync,aname=drvfs;path=C:\;uid=0;gid=0;symlinkroot=/mnt/,mmap,access=client,msize=65536,trans=fd,rfd=8,wfd=8
├─/mnt/g                        G:\          9p          rw,noatime,dirsync,aname=drvfs;path=G:\;uid=0;gid=0;symlinkroot=/mnt/,mmap,access=client,msize=65536,trans=fd,rfd=8,wfd=8
└─/myDirectory/subDirectory     /dev/sdd1    ext2        rw,relatime,stripe=4
</pre></table></code></div></div><h4 id="deletion"><span class="mr-2">Deletion</span><a href="#deletion" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><h5 id="unmount-the-partitition-with-umount"><span class="mr-2">Unmount the partitition with <code class="language-plaintext highlighter-rouge"><span class="mr-2">umount</code></span><a href="#unmount-the-partitition-with-umount" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h5><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo </span>umount /dev/sdd1
</pre></table></code></div></div><h4 id="delete-the-directory-its-mounted-on"><span class="mr-2">Delete the directory it’s mounted on</span><a href="#delete-the-directory-its-mounted-on" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h4><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">sudo</span> <span class="nt">-Rf</span> /myDirectory/subDirectory
</pre></table></code></div></div><h3 id="delete-the-partition-with-fdisk"><span class="mr-2">Delete the partition with <code class="language-plaintext highlighter-rouge"><span class="mr-2">fdisk</code></span><a href="#delete-the-partition-with-fdisk" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Delete the partition with <code class="language-plaintext highlighter-rouge">d</code> and validate with <code class="language-plaintext highlighter-rouge">w</code>.</p><p>Every step can be checked with the previous given commands.</p><h3 id="space-usage-with-df-and-du"><span class="mr-2">Space usage with <code class="language-plaintext highlighter-rouge"><span class="mr-2">df</code> and <code class="language-plaintext highlighter-rouge"><span class="mr-2">du</code></span><a href="#space-usage-with-df-and-du" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>File system disk space usage with <a href="https://linux.die.net/man/1/df"><code class="language-plaintext highlighter-rouge">df</code></a>. <code class="language-plaintext highlighter-rouge">-k</code> for block size, <code class="language-plaintext highlighter-rouge">-h</code> for human readable:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">df</span> <span class="nt">-k</span>
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre>Filesystem                         1K-blocks     Used Available Use% Mounted on
devtmpfs                            24588420        0  24588420   0% /dev
tmpfs                               24607388        8  24607380   1% /dev/shm
tmpfs                               24607388  2516124  22091264  11% /run
tmpfs                               24607388        0  24607388   0% /sys/fs/cgroup
/dev/mapper/vg00-lvroot              2086912    85664   2001248   5% /
/dev/mapper/vg00-lvusr               4184064  2301672   1882392  56% /usr
tmpfs                               24607388        8  24607380   1% /tmp
</pre></table></code></div></div><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">df</span> <span class="nt">-h</span>
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre>Filesystem                          Size  Used Avail Use% Mounted on
devtmpfs                             24G     0   24G   0% /dev
tmpfs                                24G  8.0K   24G   1% /dev/shm
tmpfs                                24G  2.4G   22G  11% /run
tmpfs                                24G     0   24G   0% /sys/fs/cgroup
/dev/mapper/vg00-lvroot             2.0G   84M  2.0G   5% /
/dev/mapper/vg00-lvusr              4.0G  2.2G  1.8G  56% /usr
tmpfs                                24G  8.0K   24G   1% /tmp
</pre></table></code></div></div><p>File space usage with <a href="https://linux.die.net/man/1/du"><code class="language-plaintext highlighter-rouge">du</code></a>. <code class="language-plaintext highlighter-rouge">-k</code> for block size, <code class="language-plaintext highlighter-rouge">-h</code> for human readable, <code class="language-plaintext highlighter-rouge">-a</code> for counts for all files, not just directories:</p><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">df</span> <span class="nt">-h</span>
</pre></table></code></div></div><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span data-label-text="Plaintext"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre>148K    ./.ssh
0       ./.ansible/tmp
0       ./.ansible
</pre></table></code></div></div><div class="language-bash highlighter-rouge"><div class="code-header"> <span data-label-text="Shell"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="nb">df</span> <span class="nt">-ha</span>
</pre></table></code></div></div><p><code class="language-plaintext highlighter-rouge">4.0K ./.bash_logout 4.0K ./.bash_profile 4.0K ./.bashrc 4.0K ./.ssh/authorized_keys 4.0K ./.ssh/authorized_keys2 4.0K ./.ssh/authorized_keys3 148K ./.ssh 8.0K ./.bash_history 0 ./.ansible/tmp 0 ./.ansible </code></p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/system/'>System</a>, <a href='/categories/linux/'>Linux</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/system/" class="post-tag no-text-decoration" >system</a> <a href="/tags/linux/" class="post-tag no-text-decoration" >linux</a> <a href="/tags/shell/" class="post-tag no-text-decoration" >shell</a> <a href="/tags/tips/" class="post-tag no-text-decoration" >tips</a> <a href="/tags/disk/" class="post-tag no-text-decoration" >disk</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/linux-disk/">Disk commands</a><li><a href="/posts/ldap-tips/">LDAP tips</a><li><a href="/posts/windows-dsc/">Desired State Configuration</a><li><a href="/posts/wsl-tips/">WSL tips</a><li><a href="/posts/linux-cut/">Cut</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/system/">system</a> <a class="post-tag" href="/tags/linux/">linux</a> <a class="post-tag" href="/tags/tips/">tips</a> <a class="post-tag" href="/tags/development/">development</a> <a class="post-tag" href="/tags/shell/">shell</a> <a class="post-tag" href="/tags/ansible/">ansible</a> <a class="post-tag" href="/tags/misc/">misc</a> <a class="post-tag" href="/tags/powershell/">powershell</a> <a class="post-tag" href="/tags/yaml/">yaml</a> <a class="post-tag" href="/tags/perl/">perl</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 pl-3 pr-3 pr-xl-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/linux-tips/"><div class="card-body"> <em class="small" data-ts="1600430400" data-df="ll" > Sep 18, 2020 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Tips</h3><div class="text-muted small"><p> Redirections Use &amp;gt; to redirect an output to a file (&amp;gt;&amp;gt; to append). To redirect special handles: file descriptor 0 is the standard input (stdin) file descriptor 1 is the standard ou...</p></div></div></a></div><div class="card"> <a href="/posts/linux-vim/"><div class="card-body"> <em class="small" data-ts="1615467600" data-df="ll" > Mar 11, 2021 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Vim</h3><div class="text-muted small"><p> See an option value :set option? Example: :set paste? nopaste Column mode edition ^V to go to to column mode (displays -- VISUAL BLOCK --) select the columns shift I to go to insert m...</p></div></div></a></div><div class="card"> <a href="/posts/linux-sed/"><div class="card-body"> <em class="small" data-ts="1615554000" data-df="ll" > Mar 12, 2021 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Sed</h3><div class="text-muted small"><p> Remove line(s) in a file with a regex -i for in-place editing, d deletes the line(s) if it matches: sed -i &#39;/regexPattern/d&#39; myFile Remove all occurences of a pattern in a file with a regex -i...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/dev-misc-regex/" class="btn btn-outline-primary" prompt="Older"><p>Regex</p></a> <a href="/posts/windows-iis/" class="btn btn-outline-primary" prompt="Newer"><p>IIS</p></a></div></div></div><footer class="row pl-3 pr-3"><div class="col-12 d-flex justify-content-between align-items-center text-muted pl-0 pr-0"><div class="footer-left"><p class="mb-0"> © 2023 <a href="https://github.com/maximegault">Maxime Gault</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/system/">system</a> <a class="post-tag" href="/tags/linux/">linux</a> <a class="post-tag" href="/tags/tips/">tips</a> <a class="post-tag" href="/tags/development/">development</a> <a class="post-tag" href="/tags/shell/">shell</a> <a class="post-tag" href="/tags/ansible/">ansible</a> <a class="post-tag" href="/tags/misc/">misc</a> <a class="post-tag" href="/tags/powershell/">powershell</a> <a class="post-tag" href="/tags/yaml/">yaml</a> <a class="post-tag" href="/tags/perl/">perl</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a><div id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-animation="true" data-autohide="false"><div class="toast-header"> <button type="button" class="ml-2 ml-auto close" data-dismiss="toast" aria-label="Close"> <span aria-hidden="true">&times;</span> </button></div><div class="toast-body text-center pt-0"><p class="pl-2 pr-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></div><script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/fr.js.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script>
